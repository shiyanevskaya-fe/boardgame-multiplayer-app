{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ar33\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\vkr\\\\frontend\\\\src\\\\WaitingRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport './styles/WaitingRoom.css';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WaitingRoom = () => {\n  _s();\n  const pathParts = window.location.pathname.split('/');\n  const roomCode = pathParts[pathParts.length - 1];\n  const navigate = useNavigate();\n  useEffect(() => {\n    const interval = setInterval(() => {\n      axios.get(`http://192.168.1.66:8000/api/rooms/${roomCode}/status/`).then(response => {\n        if (response.data === \"in_progress\") {\n          clearInterval(interval);\n          navigate(`/game/${roomCode}/player`);\n        }\n      }).catch(error => {\n        console.error(\"Ошибка при получении статуса комнаты:\", error);\n      });\n    }, 3000);\n    return () => clearInterval(interval);\n  }, [roomCode, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"WaitingRoom\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"waiting-room\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-block\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\u043E\\u0436\\u0438\\u0434\\u0430\\u043D\\u0438\\u0435 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 34\n          }, this), \"  \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0438\\u0433\\u0440\\u044B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(WaitingRoom, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = WaitingRoom;\nexport default WaitingRoom;\nvar _c;\n$RefreshReg$(_c, \"WaitingRoom\");","map":{"version":3,"names":["React","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","WaitingRoom","_s","pathParts","window","location","pathname","split","roomCode","length","navigate","interval","setInterval","get","then","response","data","clearInterval","catch","error","console","className","children","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ar33/OneDrive/Документы/vkr/frontend/src/WaitingRoom.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport './styles/WaitingRoom.css';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nconst WaitingRoom = () => {\r\n    const pathParts = window.location.pathname.split('/');\r\n    const roomCode = pathParts[pathParts.length - 1];\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n          axios.get(`http://192.168.1.66:8000/api/rooms/${roomCode}/status/`)\r\n            .then(response => {\r\n              if (response.data === \"in_progress\") {\r\n                clearInterval(interval);\r\n                navigate(`/game/${roomCode}/player`);\r\n              }\r\n            })\r\n            .catch(error => {\r\n              console.error(\"Ошибка при получении статуса комнаты:\", error);\r\n            });\r\n        }, 3000); \r\n    \r\n        return () => clearInterval(interval); \r\n      }, [roomCode, navigate]);\r\n\r\n    return(\r\n        <div className=\"WaitingRoom\">\r\n            <div id=\"waiting-room\">\r\n                <div className=\"info-block\">\r\n                    <h3>ожидание <br/>  начала игры</h3>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingRoom;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,0BAA0B;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG/C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,SAAS,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC;EACrD,MAAMC,QAAQ,GAAGL,SAAS,CAACA,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC;EAEhD,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACZ,MAAMe,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCf,KAAK,CAACgB,GAAG,CAAC,sCAAsCL,QAAQ,UAAU,CAAC,CAChEM,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAIA,QAAQ,CAACC,IAAI,KAAK,aAAa,EAAE;UACnCC,aAAa,CAACN,QAAQ,CAAC;UACvBD,QAAQ,CAAC,SAASF,QAAQ,SAAS,CAAC;QACtC;MACF,CAAC,CAAC,CACDU,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC/D,CAAC,CAAC;IACN,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMF,aAAa,CAACN,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACH,QAAQ,EAAEE,QAAQ,CAAC,CAAC;EAE1B,oBACIV,OAAA;IAAKqB,SAAS,EAAC,aAAa;IAAAC,QAAA,eACxBtB,OAAA;MAAKuB,EAAE,EAAC,cAAc;MAAAD,QAAA,eAClBtB,OAAA;QAAKqB,SAAS,EAAC,YAAY;QAAAC,QAAA,eACvBtB,OAAA;UAAAsB,QAAA,GAAI,mDAAS,eAAAtB,OAAA;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,mEAAa;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAAzB,EAAA,CAhCKD,WAAW;EAAA,QAIIH,WAAW;AAAA;AAAA8B,EAAA,GAJ1B3B,WAAW;AAkCjB,eAAeA,WAAW;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}